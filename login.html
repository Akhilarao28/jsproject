<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pet Store</title>
    <link rel="stylesheet" href="login.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.1/css/all.min.css">
    <!-- <link rel="icon" href="data:;base64,iVBORw0KGgo="> -->




    <link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"
/>

    
</head>

<body>
    <div class="container">
        <img src="https://media.istockphoto.com/id/1355290974/photo/dog-near-different-variation-of-goods-for-animals.jpg?s=612x612&w=0&k=20&c=mL_5zyUinqzo32fKV_0lb0ycD8NnvvlsKCBg51CbO2Q=" alt="Image" width="600px" alt="Image" width="600px">

        <form action="" id="login">
            <h1>Pet <span class="store">Store</span></h1>

            <span>USERNAME</span>
            <input type="text" name="" id="username" placeholder="Username" required>
            <span id="usernameError"></span>

            <span>PASSWORD</span>
            <input type="password" name="" id="password" placeholder="Password" required>
            <span id="passwordError"></span>

            <input type="submit" value="Login">

            <a href="signup.html">New to Pet Store? Create an account</a>

            <a href="#" style="text-align:center" onclick="loginAsGuest()">Login as guest</a>
        </form>
    </div>
    <!-- <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script> -->

  


    <script>
        document.getElementById("login").addEventListener("submit", (event) => {
            event.preventDefault();

            // Retrieve stored username and password
            const storedUserName = localStorage.getItem("name");
            const storedPassword = localStorage.getItem("password");

            // Get user input
            const enteredUserName = document.getElementById("username").value.trim();
            const enteredPassword = document.getElementById("password").value.trim();

            // Clear previous error messages
            document.getElementById("usernameError").textContent = "";
            document.getElementById("passwordError").textContent = "";

            // SweetAlert2 for feedback messages
            if (!storedUserName || enteredUserName !== storedUserName) {
                Swal.fire({
                    title: "User Not Found",
                    text: "Please register first to access your account.",
                    icon: "warning",
                    showClass: {
                        popup: 'animate_animated animatefadeInDown animate_slow'
                    },
                    hideClass: {
                        popup: 'animate_animated animatefadeOutUp animate_slow'
                    },
                    position: 'fixed',
                    backdrop: false,
                    allowOutsideClick: true
                });
            } else if (enteredPassword !== storedPassword) {
                Swal.fire({
                    title: "Incorrect Password",
                    text: "The password you entered is incorrect. Please try again.",
                    icon: "error",
                    showClass: {
                        popup: 'animate_animated animateshakeX animate_slow'
                    },
                    hideClass: {
                        popup: 'animate_animated animatefadeOutUp animate_slow'
                    }, 
                    position: 'fixed',
                    backdrop: false,
                    allowOutsideClick: true
                });
            } else {
                Swal.fire({
                    title: "Login Successful!",
                    text: "Welcome back!",
                    icon: "success",
                    showClass: {
                        popup: 'animate_animated animatezoomIn animate_fast'
                    },
                    hideClass: {
                        popup: 'animate_animated animatezoomOut animate_fast'
                    },
                    position: 'fixed',
                    backdrop: false,
                    allowOutsideClick: true
                }).then((result) => {
                    if (result.isConfirmed) {
                        window.location.href = "jsproject3.html";
                    }
                });
            }
        });

        function loginAsGuest() {

             window.location.href = "jsproject3.html"
            
        }      
    </script>


</body>

</html>